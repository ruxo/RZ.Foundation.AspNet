@page "/"

@using System.Globalization
@inherits ReactiveInjectableComponentBase<WelcomeViewModel>

@rendermode InteractiveServer

@{ CultureInfo.CurrentUICulture = new(lang); }

<PageTitle>Example Home</PageTitle>

<SectionContent SectionName="appbar-title">
    <MudText Typo="Typo.h6">Example</MudText>
</SectionContent>

<MudText Typo="Typo.h2">Select menu on the left side</MudText>

@{
    Console.WriteLine($"Thread Id {Thread.CurrentThread.ManagedThreadId} Culture: {CultureInfo.CurrentUICulture}");
}
<MudSimpleTable Style="width: 384px">
    <thead>
    <tr>
        <td>&nbsp;</td><th>Default</th><th>Current</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <th>Culture</th><td>@CultureInfo.DefaultThreadCurrentCulture</td><td>@CultureInfo.CurrentCulture</td>
    </tr>
    <tr>
        <th>UI</th><td>@CultureInfo.DefaultThreadCurrentUICulture</td><td>@CultureInfo.CurrentUICulture</td>
    </tr>
    </tbody>
</MudSimpleTable>
<MudSimpleTable Style="Width: 384px;margin-top: 24px">
    <thead>
    <tr>
        <th>TH</th><th>EN</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>@ViewModel!.HomeTh</td><td>@ViewModel!.HomeEn</td>
    </tr>
    </tbody>
</MudSimpleTable>
<MudStack Row>
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => SetLanguage("th"))">Thai</MudButton>
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => SetLanguage("en"))">English</MudButton>
</MudStack>
<MudText>@localizer["home"]</MudText>